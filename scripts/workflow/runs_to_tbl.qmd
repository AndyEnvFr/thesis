---
title: "runs to tbl"
author: "ai"
format: html
editor: visual
---

# load

```{r}
#| warning: false
library(PhyloSim)
library(parallel)
library(dplyr)
# root <- "~/Uni/Master/MA/" # work from local machine
root <- "~/cyber_synch/" # work from uni bayreuth server
# source(paste0(root, "/git_synch/scripts/functions.R"))
```

```{r}
runs <- readRDS(paste0(root, "local/runs/mstr/20250715_validation/20250715_MstrRunConN.rds"))

# runs <- readRDS("~/cyber_synch/local/runs/fat/20250602_01_conN")
# runs <- readRDS("~/cyber_synch/local/runs/fat/20250602_02_conN")
# runs <- readRDS("~/cyber_synch/local/runs/fat/20250602_03_conN")
# runs <- readRDS("~/cyber_synch/local/runs/fat/20250602_04_conN")
# runs <- readRDS("~/cyber_synch/local/runs/fat/20250602_05_conN")
```

# transform matrix in df - parallel

```{r}
cl <- makeCluster(length(runs))
clusterExport(cl, c("getMatToTab", "runs"))
res <- parLapply(cl = cl, X = runs, fun = getMatToTab)
saveRDS(res, paste0(root, "local/runs/mstr/20250715_validation/tabular/20250715_MstrRunConNTab.rds"))
```
